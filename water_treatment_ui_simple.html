<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Simple] ì§€ëŠ¥í˜• ìˆ˜ì²˜ë¦¬ ì‹œìŠ¤í…œ - í†µí•© ê´€ì œ ëŒ€ì‹œë³´ë“œ</title>
    <style>
        /* CSSëŠ” ì´ì „ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #0052D4, #4364F7, #6FB1FC); min-height: 100vh; }
        .main-container { display: grid; grid-template-areas: "header header header" "nav content sidebar" "nav footer footer"; grid-template-columns: 220px 1fr 320px; grid-template-rows: 60px 1fr 40px; height: 100vh; gap: 2px; }
        .header, .navigation, .content, .sidebar, .footer { background: rgba(255, 255, 255, 0.98); }
        .content { background: rgba(244, 247, 252, 0.95); }
        .header { grid-area: header; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .logo-section { display: flex; align-items: center; gap: 15px; }
        .logo { font-size: 1.8em; }
        .system-title { font-size: 1.4em; font-weight: bold; color: #0052D4; }
        .version-badge { display: inline-block; background: #27ae60; color: white; padding: 3px 10px; border-radius: 12px; font-size: 0.8em; margin-left: 10px; }
        .user-info { display: flex; align-items: center; gap: 15px; }
        .status-indicator { width: 12px; height: 12px; border-radius: 50%; background: #27ae60; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        .navigation { grid-area: nav; padding-top: 20px; }
        .nav-item { display: flex; align-items: center; gap: 10px; padding: 15px 20px; cursor: pointer; transition: all 0.3s ease; }
        .nav-item:hover, .nav-item.active { background: linear-gradient(135deg, #4364F7, #0052D4); color: white; transform: translateX(5px); }
        .nav-icon { font-size: 1.2em; width: 25px; text-align: center; }
        .content { grid-area: content; padding: 20px; overflow-y: auto; }
        .content-section { display: none; } /* ëª¨ë“  ì„¹ì…˜ ê¸°ë³¸ ìˆ¨ê¹€ */
        .content-section.active { display: block; } /* í™œì„±í™”ëœ ì„¹ì…˜ë§Œ ë³´ì„ */
        .content-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #ecf0f1; }
        .content-title { font-size: 1.6em; font-weight: bold; }
        .sensor-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .sensor-card { background: #fff; border-radius: 15px; padding: 20px; text-align: center; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border-top: 4px solid #4364F7; }
        .sensor-icon { font-size: 3em; margin-bottom: 10px; display: block; }
        .sensor-label { font-size: 1em; color: #7f8c8d; margin-bottom: 8px; }
        .sensor-value { font-size: 2.5em; font-weight: bold; background: linear-gradient(135deg, #0052D4, #4364F7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .chart-section { background: #fff; border-radius: 15px; padding: 25px; margin-bottom: 25px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .chart-header { margin-bottom: 20px; }
        .chart-title { font-size: 1.3em; font-weight: bold; }
        .chart-container { height: 300px; }
        .sidebar { grid-area: sidebar; }
        .sidebar-section { padding: 20px; border-bottom: 1px solid #ecf0f1; }
        .sidebar-title { font-size: 1.1em; font-weight: bold; color: #2c3e50; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .prediction-item { background: #fff; border-radius: 10px; padding: 15px; margin-bottom: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border-left: 4px solid #673ab7; }
        .prediction-header { font-weight: bold; color: #34495e; margin-bottom: 10px; }
        .prediction-values { display: flex; justify-content: space-between; font-size: 1.2em; margin-bottom: 10px; }
        .prediction-accuracy { text-align: right; font-size: 0.9em; color: #27ae60; font-weight: bold; }
        .footer { grid-area: footer; background: rgba(44, 62, 80, 0.98); color: white; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <div class="logo-section">
                <div class="logo">ğŸ’§</div>
                <div>
                    <div class="system-title">ì§€ëŠ¥í˜• ìˆ˜ì²˜ë¦¬ ì‹œìŠ¤í…œ - í†µí•© ê´€ì œ ëŒ€ì‹œë³´ë“œ <span class="version-badge">Simple</span></div>
                    <div class="system-info">í¬íŠ¸: 9000 | ë²„ì „ 2.0</div>
                </div>
            </div>
            <div class="user-info">
                <div class="status-indicator"></div>
                <span>ì„œë²„ ì—°ê²°ë¨</span>
                <span>|</span>
                <span>ìš´ì˜ ê´€ë¦¬ì</span>
            </div>
        </div>

        <div class="navigation">
            <div class="nav-item active" onclick="showSection('dashboard')"><div class="nav-icon">ğŸ“Š</div><div>AI ëŒ€ì‹œë³´ë“œ</div></div>
            <div class="nav-item" onclick="showSection('future_prediction')"><div class="nav-icon">ğŸ”®</div><div>ë¯¸ë˜ ì˜ˆì¸¡</div></div>
            <div class="nav-item" onclick="showSection('anomaly_analysis')"><div class="nav-icon">âš ï¸</div><div>ì´ìƒ ì§•í›„ ë¶„ì„</div></div>
            <div class="nav-item" onclick="showSection('simulation')"><div class="nav-icon">ğŸ¯</div><div>What-If ì‹œë®¬ë ˆì´ì…˜</div></div>
            <div class="nav-item" onclick="showSection('learning_status')"><div class="nav-icon">ğŸ§ </div><div>ì˜¨ë¼ì¸ í•™ìŠµ í˜„í™©</div></div>
        </div>

        <div class="content">
            <!-- 1. AI ëŒ€ì‹œë³´ë“œ -->
            <div id="dashboard" class="content-section active">
                <div class="content-header"><div class="content-title">AI ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ</div></div>
                <div class="sensor-grid">
                    <div class="sensor-card"><div class="sensor-icon">ğŸŒ¡ï¸</div><div class="sensor-label">pH</div><div class="sensor-value" id="ph_value">-</div></div>
                    <div class="sensor-card"><div class="sensor-icon">ğŸ’¨</div><div class="sensor-label">ìš©ì¡´ì‚°ì†Œ (DO)</div><div class="sensor-value" id="do_value">-</div></div>
                    <div class="sensor-card"><div class="sensor-icon">ğŸŒ«ï¸</div><div class="sensor-label">íƒë„ (Turbidity)</div><div class="sensor-value" id="turbidity_value">-</div></div>
                    <div class="sensor-card"><div class="sensor-icon">âš—ï¸</div><div class="sensor-label">ì´ìš©ì¡´ê³ í˜•ë¬¼ (TDS)</div><div class="sensor-value" id="tds_value">-</div></div>
                </div>
                <div class="chart-section">
                    <div class="chart-header"><div class="chart-title">ì‹¤ì‹œê°„ íƒë„(Turbidity) ì˜ˆì¸¡</div></div>
                    <div class="chart-container"><canvas id="predictionChart"></canvas></div>
                </div>
            </div>

            <!-- 2. ë¯¸ë˜ ì˜ˆì¸¡ -->
            <div id="future_prediction" class="content-section">
                <div class="content-header"><div class="content-title">ë¯¸ë˜ ì˜ˆì¸¡</div></div>
                <div class="chart-section">
                    <h3>AI ê¸°ë°˜ ë¯¸ë˜ ìˆ˜ì§ˆ ì˜ˆì¸¡ ë° ì¶”ì´ ë¶„ì„</h3>
                    <p>AI ëª¨ë¸ì´ í˜„ì¬ ë° ê³¼ê±° ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¯¸ë˜ì˜ ìˆ˜ì§ˆ ì§€í‘œ(pH, DO, íƒë„ ë“±)ë¥¼ ì˜ˆì¸¡í•˜ê³ , ê·¸ ë³€í™” ì¶”ì´ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ìš´ì˜ìëŠ” ì ì¬ì ì¸ ë¬¸ì œë¥¼ ì‚¬ì „ì— ì¸ì§€í•˜ê³  ì„ ì œì ì¸ ëŒ€ì‘ ì „ëµì„ ìˆ˜ë¦½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    <ul>
                        <li><strong>ë‹¨ê¸° ì˜ˆì¸¡ (1ì‹œê°„, 3ì‹œê°„):</strong> ê¸´ê¸‰ ìƒí™© ëŒ€ì‘ ë° ì¦‰ê°ì ì¸ ì œì–´ ì¡°ì¹˜ì— í™œìš©ë©ë‹ˆë‹¤.</li>
                        <li><strong>ì¤‘ê¸° ì˜ˆì¸¡ (6ì‹œê°„, 24ì‹œê°„):</strong> ì¼ì¼ ìš´ì˜ ê³„íš ë° ìì› ë°°ë¶„ ìµœì í™”ì— ê¸°ì—¬í•©ë‹ˆë‹¤.</li>
                        <li><strong>ì¥ê¸° ì˜ˆì¸¡ (7ì¼, 30ì¼):</strong> ê³„ì ˆì  ë³€í™”, ì™¸ë¶€ í™˜ê²½ ìš”ì¸ ë“±ì„ ê³ ë ¤í•œ ì¥ê¸°ì ì¸ ìˆ˜ì²˜ë¦¬ ì „ëµ ìˆ˜ë¦½ì— í™œìš©ë©ë‹ˆë‹¤.</li>
                    </ul>
                    <p>ì˜ˆì¸¡ ì •í™•ë„ì™€ ì‹ ë¢° êµ¬ê°„ì„ í•¨ê»˜ í‘œì‹œí•˜ì—¬ ì˜ˆì¸¡ ê²°ê³¼ì˜ ë¶ˆí™•ì‹¤ì„±ì„ ëª…í™•íˆ ì „ë‹¬í•©ë‹ˆë‹¤.</p>
                    <div class="chart-container" style="height: 250px;"><canvas id="futurePredictionChart"></canvas></div>
                </div>
            </div>

            <!-- 3. ì´ìƒ ì§•í›„ ë¶„ì„ -->
            <div id="anomaly_analysis" class="content-section">
                <div class="content-header"><div class="content-title">ì´ìƒ ì§•í›„ ë¶„ì„</div></div>
                <div class="chart-section">
                    <h3>AI ê¸°ë°˜ ì´ìƒ ê°ì§€ ë° ê·¼ë³¸ ì›ì¸ ì§„ë‹¨</h3>
                    <p>AIê°€ ìˆ˜ì§‘ëœ ë°ì´í„°ì—ì„œ ì •ìƒ ë²”ì£¼ë¥¼ ë²—ì–´ë‚˜ëŠ” íŒ¨í„´ì´ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³ , ê·¸ ì›ì¸ì„ ë¶„ì„í•˜ì—¬ ìš´ì˜ìì—ê²Œ ì•Œë¦½ë‹ˆë‹¤. ì´ëŠ” ì‹œìŠ¤í…œì˜ ì•ˆì •ì„±ì„ ë†’ì´ê³ , ë¬¸ì œ í•´ê²° ì‹œê°„ì„ ë‹¨ì¶•ì‹œí‚µë‹ˆë‹¤.</p>
                    <ul>
                        <li><strong>ì‹¤ì‹œê°„ ì´ìƒ ê°ì§€:</strong> ì„¼ì„œ ë°ì´í„°, ì¥ë¹„ ì‘ë™ ìƒíƒœ, ìˆ˜ì²˜ë¦¬ íš¨ìœ¨ ë“± ë‹¤ì–‘í•œ ì§€í‘œì—ì„œ ë¹„ì •ìƒì ì¸ íŒ¨í„´ì„ ì¦‰ì‹œ ê°ì§€í•©ë‹ˆë‹¤.</li>
                        <li><strong>ê·¼ë³¸ ì›ì¸ ë¶„ì„:</strong> ê°ì§€ëœ ì´ìƒ ì§•í›„ì™€ ê´€ë ¨ëœ ëª¨ë“  ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ê°€ì¥ ê°€ëŠ¥ì„±ì´ ë†’ì€ ì›ì¸(ì˜ˆ: íŠ¹ì • ì„¼ì„œ ì˜¤ë¥˜, ì•½í’ˆ íˆ¬ì…ëŸ‰ ë¶€ì¡±, ì™¸ë¶€ ì˜¤ì—¼ì› ìœ ì…)ì„ ì§„ë‹¨í•˜ê³  ì œì‹œí•©ë‹ˆë‹¤.</li>
                        <li><strong>ì•Œë¦¼ ë° ì¡°ì¹˜ ê¶Œê³ :</strong> ì´ìƒ ì§•í›„ì˜ ì‹¬ê°ë„ì— ë”°ë¼ ì•Œë¦¼ì„ ë°œì†¡í•˜ê³ , AIê°€ ì¶”ì²œí•˜ëŠ” ì´ˆê¸° ì¡°ì¹˜ ë°©ì•ˆì„ í•¨ê»˜ ì œê³µí•©ë‹ˆë‹¤.</li>
                    </ul>
                    <h4>ìµœê·¼ ì´ìƒ ì§•í›„ ì´ë ¥</h4>
                    <table style="width:100%; border-collapse:collapse; font-size:0.9em;">
                        <thead>
                            <tr style="background:#f0f0f0;"><th style="padding:8px; border:1px solid #ddd; text-align:left;">ì‹œê°„</th><th style="padding:8px; border:1px solid #ddd; text-align:left;">ìœ í˜•</th><th style="padding:8px; border:1px solid #ddd; text-align:left;">ë‚´ìš©</th><th style="padding:8px; border:1px solid #ddd; text-align:left;">ì›ì¸ ë¶„ì„</th></tr>
                        </thead>
                        <tbody>
                            <tr><td style="padding:8px; border:1px solid #ddd;">2025-09-12 14:05</td><td style="padding:8px; border:1px solid #ddd;">ìˆ˜ì§ˆ ì´ìƒ</td><td style="padding:8px; border:1px solid #ddd;">pH ê¸‰ê²©í•œ í•˜ë½ (6.5 -> 5.8)</td><td style="padding:8px; border:1px solid #ddd;">ì™¸ë¶€ ì‚°ì„± ë¬¼ì§ˆ ìœ ì… ì¶”ì •</td></tr>
                            <tr><td style="padding:8px; border:1px solid #ddd;">2025-09-12 10:30</td><td style="padding:8px; border:1px solid #ddd;">ì¥ë¹„ ì˜¤ë¥˜</td><td style="padding:8px; border:1px solid #ddd;">ì‘ì§‘ì œ íŒí”„ ì‘ë™ ì¤‘ë‹¨</td><td style="padding:8px; border:1px solid #ddd;">ì „ë ¥ ê³µê¸‰ ë¶ˆì•ˆì •</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 4. What-If ì‹œë®¬ë ˆì´ì…˜ -->
            <div id="simulation" class="content-section">
                <div class="content-header"><div class="content-title">What-If ì‹œë®¬ë ˆì´ì…˜</div></div>
                <div class="chart-section">
                    <h3>AI ê¸°ë°˜ ê°€ìƒ ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„</h3>
                    <p>ì‚¬ìš©ìê°€ íŠ¹ì • ìš´ì˜ ë³€ìˆ˜(ì˜ˆ: ìœ ì…ëŸ‰, ì•½í’ˆ íˆ¬ì…ëŸ‰, íŒí”„ ì†ë„)ë¥¼ ë³€ê²½í–ˆì„ ë•Œ, AIê°€ ì˜ˆì¸¡í•˜ëŠ” ë¯¸ë˜ ìˆ˜ì§ˆ ë³€í™” ë° ì‹œìŠ¤í…œ íš¨ìœ¨ì„±ì„ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê°€ìƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ì—¬ ìµœì ì˜ ìš´ì˜ ì „ëµì„ ìˆ˜ë¦½í•˜ëŠ” ë° í™œìš©ë©ë‹ˆë‹¤.</p>
                    <ul>
                        <li><strong>ì‹œë‚˜ë¦¬ì˜¤ ì •ì˜:</strong> ë³€ê²½í•˜ê³ ì í•˜ëŠ” ë³€ìˆ˜ì™€ ê°’ì„ ì…ë ¥í•©ë‹ˆë‹¤.</li>
                        <li><strong>AI ì˜ˆì¸¡:</strong> AI ëª¨ë¸ì´ ì…ë ¥ëœ ì‹œë‚˜ë¦¬ì˜¤ì— ë”°ë¥¸ ë¯¸ë˜ ìˆ˜ì§ˆ ë³€í™”ë¥¼ ì˜ˆì¸¡í•©ë‹ˆë‹¤.</li>
                        <li><strong>ê²°ê³¼ ë¶„ì„:</strong> ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ë¥¼ ì°¨íŠ¸ì™€ ìˆ˜ì¹˜ë¡œ ì œê³µí•˜ì—¬, ê° ì‹œë‚˜ë¦¬ì˜¤ì˜ ì¥ë‹¨ì ì„ ë¹„êµ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                    <h4>ì‹œë®¬ë ˆì´ì…˜ ì…ë ¥</h4>
                    <div style="display:flex; gap:10px; margin-bottom:15px;">
                        <input type="text" placeholder="ë³€ìˆ˜ëª… (ì˜ˆ: ìœ ì…ëŸ‰)" style="padding:8px; border:1px solid #ddd; border-radius:4px; flex:1;">
                        <input type="number" placeholder="ê°’ (ì˜ˆ: 120)" style="padding:8px; border:1px solid #ddd; border-radius:4px; width:80px;">
                        <button style="padding:8px 15px; background:#4364F7; color:white; border:none; border-radius:4px; cursor:pointer;">ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰</button>
                    </div>
                    <h4>ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ (í”Œë ˆì´ìŠ¤í™€ë”)</h4>
                    <div class="chart-container" style="height: 200px; background:#f9f9f9; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#bbb;">ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ì°¨íŠ¸ ë° ìš”ì•½</div>
                </div>
            </div>

            <!-- 5. ì˜¨ë¼ì¸ í•™ìŠµ í˜„í™© -->
            <div id="learning_status" class="content-section">
                <div class="content-header"><div class="content-title">ì˜¨ë¼ì¸ í•™ìŠµ í˜„í™©</div></div>
                <div class="chart-section">
                    <h3>AI ëª¨ë¸ ì˜¨ë¼ì¸ í•™ìŠµ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§</h3>
                    <p>AI ëª¨ë¸ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ í•™ìŠµí•˜ë©° ì„±ëŠ¥ì´ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ ë³´ì—¬ì£¼ëŠ” ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤. ëª¨ë¸ì˜ ì§€ì†ì ì¸ ê°œì„  ê³¼ì •ì„ íˆ¬ëª…í•˜ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    <ul>
                        <li><strong>ì‹¤ì‹œê°„ MSE ì¶”ì´:</strong> ëª¨ë¸ì´ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ í•™ìŠµí•  ë•Œë§ˆë‹¤ ë³€í™”í•˜ëŠ” ì˜ˆì¸¡ ì˜¤ì°¨(MSE)ë¥¼ ì°¨íŠ¸ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.</li>
                        <li><strong>í•™ìŠµ ë°ì´í„°ëŸ‰:</strong> í˜„ì¬ê¹Œì§€ ëª¨ë¸ì´ í•™ìŠµí•œ ì´ ë°ì´í„° í¬ì¸íŠ¸ ìˆ˜ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.</li>
                        <li><strong>ì¬í•™ìŠµ ì£¼ê¸°:</strong> ëª¨ë¸ì´ ìë™ìœ¼ë¡œ ì¬í•™ìŠµë˜ëŠ” ì£¼ê¸° ë° ë‹¤ìŒ ì¬í•™ìŠµ ì˜ˆì • ì‹œê°„ì„ í‘œì‹œí•©ë‹ˆë‹¤.</li>
                        <li><strong>ëª¨ë¸ ë²„ì „ ê´€ë¦¬:</strong> í•™ìŠµì„ í†µí•´ ì„±ëŠ¥ì´ í–¥ìƒëœ ëª¨ë¸ì˜ ë²„ì „ì„ ê´€ë¦¬í•˜ê³ , í•„ìš”ì‹œ ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</li>
                    </ul>
                    <div class="chart-container" style="height: 250px; background:#f9f9f9; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#bbb;">ì˜¨ë¼ì¸ í•™ìŠµ ì„±ëŠ¥ ì°¨íŠ¸</div>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">ğŸ¤– AI ì˜ˆì¸¡ ë¶„ì„</div>
                <div class="prediction-item">
                    <div class="prediction-header">íƒë„(Turbidity) ì˜ˆì¸¡</div>
                    <div class="prediction-values">
                        <span>ì‹¤ì œ: <b id="actual_value">-</b></span>
                        <span>ì˜ˆì¸¡: <b id="predicted_value" style="color: #673ab7;">-</b></span>
                    </div>
                    <div class="prediction-accuracy" id="prediction_accuracy">ì •í™•ë„: -%</div>
                </div>
            </div>
        </div>

        <div class="footer">
            <span>ì§€ëŠ¥í˜• ìˆ˜ì²˜ë¦¬ ì‹œìŠ¤í…œ Simple ë²„ì „ 2.0 - í¬íŠ¸ 9000</span>
            <span>ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: <span id="lastUpdate">-</span></span>
        </div>
    </div>

    <script>
        let chart;
        const API_BASE_URL = 'http://localhost:9000';  // Simple ë°±ì—”ë“œ í¬íŠ¸

        function showSection(sectionId) {
            // ëª¨ë“  ì½˜í…ì¸  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none'; // ëª…ì‹œì ìœ¼ë¡œ ìˆ¨ê¹€
            });
            // í´ë¦­ëœ ì„¹ì…˜ë§Œ ë³´ì´ê¸°
            document.getElementById(sectionId).classList.add('active');
            document.getElementById(sectionId).style.display = 'block'; // ëª…ì‹œì ìœ¼ë¡œ ë³´ì„

            // ëª¨ë“  ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ ë¹„í™œì„±í™”
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            // í´ë¦­ëœ ì•„ì´í…œ í™œì„±í™”
            event.currentTarget.classList.add('active');

            // ëŒ€ì‹œë³´ë“œ íƒ­ì´ í™œì„±í™”ë  ë•Œë§Œ ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹œì‘
            if (sectionId === 'dashboard') {
                updateData();
                if (!window.updateInterval) {
                    window.updateInterval = setInterval(updateData, 5000);
                }
            } else {
                // ë‹¤ë¥¸ íƒ­ìœ¼ë¡œ ì´ë™ ì‹œ ì—…ë°ì´íŠ¸ ì¤‘ì§€
                if (window.updateInterval) {
                    clearInterval(window.updateInterval);
                    window.updateInterval = null;
                }
            }
        }

        async function updateData() {
            try {
                // ë°±ì—”ë“œ ì„œë²„ì— ì˜ˆì¸¡ ìš”ì²­
                const response = await fetch(`${API_BASE_URL}/predict`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();

                if (data.error) {
                    console.error("Backend Error:", data.error);
                    document.querySelector('.status-indicator').style.background = '#e74c3c';
                    document.querySelectorAll('.user-info span')[0].textContent = 'ì„œë²„ ì˜¤ë¥˜';
                    return;
                }

                document.querySelector('.status-indicator').style.background = '#27ae60';
                document.querySelectorAll('.user-info span')[0].textContent = 'ì„œë²„ ì—°ê²°ë¨';

                // UI ì¹´ë“œ ì—…ë°ì´íŠ¸
                document.getElementById('ph_value').textContent = data.actual_ph.toFixed(2);
                document.getElementById('do_value').textContent = data.actual_do.toFixed(2);
                document.getElementById('turbidity_value').textContent = data.actual_turbidity.toFixed(2);
                document.getElementById('tds_value').textContent = Math.round(data.actual_tds);

                // ì‚¬ì´ë“œë°” AI ì˜ˆì¸¡ ì„¹ì…˜ ì—…ë°ì´íŠ¸
                document.getElementById('actual_value').textContent = data.actual_turbidity.toFixed(2);
                document.getElementById('predicted_value').textContent = data.predicted_turbidity.toFixed(2);
                const accuracy = (100 - Math.abs(data.actual_turbidity - data.predicted_turbidity) / data.actual_turbidity * 100).toFixed(1);
                document.getElementById('prediction_accuracy').textContent = `ì •í™•ë„: ${accuracy}%`;

                // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                updateChart(data.actual_turbidity, data.predicted_turbidity);

                // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„
                const now = new Date();
                const timeString = now.getHours().toString().padStart(2, '0') + ':' +
                                 now.getMinutes().toString().padStart(2, '0') + ':' +
                                 now.getSeconds().toString().padStart(2, '0');
                document.getElementById('lastUpdate').textContent = timeString;

            } catch (error) {
                console.error("Could not fetch data:", error);
                document.querySelector('.status-indicator').style.background = '#e74c3c';
                document.querySelectorAll('.user-info span')[0].textContent = 'ì„œë²„ ì—°ê²° ëŠê¹€';
            }
        }

        function updateChart(actual, predicted) {
            const now = new Date().toLocaleTimeString();
            chart.data.labels.push(now);
            chart.data.datasets[0].data.push(actual);
            chart.data.datasets[1].data.push(predicted);

            if (chart.data.labels.length > 15) { // ë°ì´í„° í¬ì¸íŠ¸ë¥¼ 15ê°œë¡œ ëŠ˜ë¦¼
                chart.data.labels.shift();
                chart.data.datasets[0].data.shift();
                chart.data.datasets[1].data.shift();
            }
            chart.update();
        }

        window.addEventListener('load', () => {
            const ctx = document.getElementById('predictionChart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'ì‹¤ì œ íƒë„ (Actual Turbidity)',
                        data: [],
                        borderColor: 'rgb(75, 192, 192)',
                        backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        fill: true,
                        tension: 0.2
                    }, {
                        label: 'AI ì˜ˆì¸¡ íƒë„ (Predicted Turbidity)',
                        data: [],
                        borderColor: 'rgb(153, 102, 255)',
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });

            showSection('dashboard'); // ì´ˆê¸° í™”ë©´ì„ ëŒ€ì‹œë³´ë“œë¡œ ì„¤ì •
        });
    </script>
</body>
</html>
